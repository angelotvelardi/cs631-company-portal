{% extends "base.html" %}
{% block title %}Edit Employee{% endblock %}

{% block content %}
<h1>Edit Employee #{{ employee.Employee_No }}</h1>

{% if error %}
  <div class="alert alert-danger">{{ error }}</div>
{% endif %}

<form method="post">
  <div class="mb-3">
    <label class="form-label">Employee Number (PK)</label>
    <input type="text" class="form-control" value="{{ employee.Employee_No }}" disabled>
  </div>

  <div class="mb-3">
    <label for="Employee_Name" class="form-label">Name</label>
    <input type="text" class="form-control" id="Employee_Name" name="Employee_Name"
           value="{{ employee.Employee_Name }}" required>
  </div>

  <div class="mb-3">
    <label for="Phone_Number" class="form-label">Phone Number</label>
    <input type="text" class="form-control" id="Phone_Number" name="Phone_Number"
           value="{{ employee.Phone_Number or '' }}">
  </div>

  <div class="mb-3">
    <label for="Starting_Date" class="form-label">Starting Date</label>
    <input type="date" class="form-control" id="Starting_Date" name="Starting_Date"
           value="{{ employee.Starting_Date }}">
  </div>

  <div class="mb-3">
    <label for="Title" class="form-label">Title</label>
    <select class="form-select" id="Title" name="Title">
      <option value="">-- None --</option>
      {% for t in titles %}
        <option value="{{ t.Title }}"
          {% if employee.Title == t.Title %}selected{% endif %}>
          {{ t.Title }}
        </option>
      {% endfor %}
    </select>
  </div>

  <div class="mb-3">
    <label for="Department_Name" class="form-label">Department</label>
    <select class="form-select" id="Department_Name" name="Department_Name">
      <option value="">-- None --</option>
      {% for d in departments %}
        <option value="{{ d.Department_Name }}"
          {% if employee.Department_Name == d.Department_Name %}selected{% endif %}>
          {{ d.Department_Name }}
        </option>
      {% endfor %}
    </select>
  </div>

  <div class="mb-3">
    <label for="Division_Name" class="form-label">Division</label>
    <select class="form-select" id="Division_Name" name="Division_Name">
      <option value="">-- None --</option>
      {% for div in divisions %}
        <option value="{{ div.Division_Name }}"
          {% if employee.Division_Name == div.Division_Name %}selected{% endif %}>
          {{ div.Division_Name }}
        </option>
      {% endfor %}
    </select>
  </div>

  <button type="submit" class="btn btn-primary">Save</button>
  <a href="{{ url_for('employees.list_employees') }}" class="btn btn-secondary">Cancel</a>
</form>
{% endblock %}
